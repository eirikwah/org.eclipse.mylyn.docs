h1. Practical examples

h2. Bascic example

p. As mentioned in the introduction one does not need much code to create a valid publication. In this example we will explain how this book was constructed using the Ant task.

bc.. 
<epub identifierId="uuid" file="${epubfile}" workingFolder="${workdir}" >
	<language code="en" />
	<identifier id="uuid" scheme="UUID">70ce7c20-8f9e-11e0-91e4-0800200c9a66</identifier>
	<title>Building EPUBs</title>
	<subject>Computing, Eclipse, Mylyn, EPUB</subject>
	<publisher>Eclipse.Org</publisher>
	<creator name="Torkild Ulvøy Resheim" fileAs="Resheim, Torkild Ulvøy" role="aut" />
	<!-- The DejaVu Fonts - http://dejavu-fonts.org/wiki/License -->
	<contributor name="Bitstream" fileAs="Bitstream" role="art" />
	<rights>Copyright (c) 2011, Torkild Ulvøy Resheim. Licensed under the Eclipse Public License version 1.0</rights>
	<type>Technical article.</type>
	<cover image="${srcdir}/epub/cover.jpg">Cover page</cover>
	<item file="${srcdir}/title-page.html"/>
	<item file="${tempdir}/copyright.html" />
	<item file="${tempdir}/introduction.html" />
	<item file="${tempdir}/epub-format.html" />
	<item file="${tempdir}/epub-ant-task.html" />
	<item file="${tempdir}/examples.html" />
	<item file="${srcdir}/epub/style.css" type="text/css" spine="false" />
	<reference href="title-page.html" type="title-page" title="Building EPUBs" />
	<reference href="introduction.html" type="preface" title="Introduction" />
	<reference href="copyright.html" type="copyright-page" title="Copyright" />
	<toc generate="true" />
	<fileset dir="${srcdir}">
		<include name="*.gif" />
		<include name="*.png" />
		<include name="*.jpg" />
		<include name="fonts/*.otf" />
	</fileset>
</epub>

p. The first thing we do here is to add. 

h2. Adding a cover

p. Correctly adding a cover to a publication can be a bit awkward as different reading systems expect different input. So there is a shortcut:

bc.. 
<cover image="cover.jpg" title="My Title"/> 

p. Simply point to the file in question and this EPUB tooling will take care of the rest. There is of course another, more laborious way allowing more control. The procedure is as follows: 

# Add a cover image to the publication
# Add a HTML file using the image
# Reference the HTML file
# Add a meta element pointing to the image

p. Assuming the cover image is at hand we will add it using the **item** element as this:

bc.. 
<item file="images/cover.jpg" id="cover-image" type="image/jpg" spine="false" />

p. Next we add a XHTML file (named __cover.html__) to the publication. This will be used by some reading systems.

bc.. 
<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Cover Page</title>
    <style type="text/css"> img { max-width: 100%; }</style>
  </head>
  <body>
    <div id="cover-image">
      <img src="cover.jpg" alt="Building EPUBs"/>
    </div>
  </body>
</html>

p. Then some more Ant code:

bc.. 
<item file="cover.xhtml"/>
<reference href="cover.xhtml" type="cover" title="Cover Page" />
<meta name="cover" content="cover-image"/>

p. This method will produce a cover page that will work with all the tested reading systems; including Calibre, iBooks, Adobe Digital Editions and Kindle (after converting to MOBI using Calibre).

!kindle-cover.jpg(The cover of this book as it is rendered on a Kindle 2.)!

p. The end result can be something like the illustration above.